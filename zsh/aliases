#reload zshrc
alias zsrc="source ~/.zshrc"

# perform "git pull" for all directories under the CWD
alias git_pull_all="ls | xargs -P10 -I{} git -C {} pull"

# run go test on CWD and open report in html
alias gotestall='go test -v -coverprofile cover.out ./...'
alias goshowcoverage='go tool cover -html=cover.out -o cover.html && open cover.html'


# too lazy to type "lazygit"
alias lg="lazygit"

#some kubectl shortcuts
alias kgp="kubectl get pods"
alias kgn="kubectl get nodes"
alias kgd="kubectl get deployments"
alias kdp="kubectl describe pod"
alias kdn="kubectl describe node"
alias kdd="kubectl describe deployment"
alias stern="kubectl stern"


# install/sync nix packages with home-manager
alias hms="home-manager switch"

#zellij
alias zj="zellij"

#nerdctl 
alias fixrd="sudo ln -s ~$USER/.rd/docker.sock /var/run/docker.sock"
alias wabbit="nerdctl run -p 5672:5672 -d --hostname wabbit --name wabbit  rabbitmq:3-management"



# git worktree jump
gwj () {
  local out
  out=$(git worktree list | fzf | awk '{print $1}')
  cd $out
}
